(this["webpackJsonpdj-auth-front"]=this["webpackJsonpdj-auth-front"]||[]).push([[0],{68:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(0),n=c.n(a),r=c(15),i=c.n(r),l=c(13),o=c(3),j=function(){return Object(s.jsx)("div",{children:"My Navbar"})},u=function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j,{}),Object(s.jsx)("section",{className:"section",children:e.children})]})},d=function(){return Object(s.jsx)("div",{children:"Home"})},b=c(17),h=c(8),p=c(38),O=c(18),m=c(14),x=c.n(m),f=c(22),v=c(23),g=c.n(v),N="LOGIN_SUCCESS",y="LOGIN_FAIL",w="USER_LOADED",S="USER_LOADED_FAIL",I=Object(O.b)(null,{login:function(e,t){return function(){var c=Object(f.a)(x.a.mark((function c(s){var a,n,r;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({email:e,password:t}),c.prev=2,c.next=5,g.a.post("".concat("http//localhost:8000","/auth/jwt/create/"),n,a);case 5:r=c.sent,s({type:N,payload:r.data}),s(function(){var e=Object(f.a)(x.a.mark((function e(t){var c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return c={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,g.a.get("".concat("http//localhost:8000","/auth/users/me"),c);case 5:s=e.sent,t({type:w,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:S});case 12:e.next=15;break;case 14:t({type:S});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),s({type:y});case 13:case"end":return c.stop()}}),c,null,[[2,10]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.login,c=Object(a.useState)({email:"",password:""}),n=Object(p.a)(c,2),r=n[0],i=n[1],o=r.email,j=r.password,u=function(e){return i(Object(h.a)(Object(h.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(s.jsxs)("form",{className:"box",onSubmit:function(e){e.preventDefault(),t(o,j)},children:[Object(s.jsx)("h1",{className:"title",children:"Sign In"}),Object(s.jsx)("p",{className:"subtitle",children:"Sign In to your account"}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Email"}),Object(s.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(s.jsx)("input",{className:"input is-success",type:"email",placeholder:"Email",name:"email",value:o,onChange:function(e){return u(e)},required:!0}),Object(s.jsx)("span",{className:"icon is-small is-left",children:Object(s.jsx)("i",{className:"fas fa-envelope"})})]})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Password"}),Object(s.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(s.jsx)("input",{className:"input is-success",type:"password",placeholder:"Password",name:"password",value:j,onChange:function(e){return u(e)},minLength:"6",required:!0}),Object(s.jsx)("span",{className:"icon is-small is-left",children:Object(s.jsx)("i",{className:"fas fa-lock"})})]})]}),Object(s.jsx)("div",{className:"field-body",children:Object(s.jsx)("div",{className:"field",children:Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"button is-primary",type:"submit",children:"Send message"})})})}),Object(s.jsxs)("p",{className:"subtitle mt-1",children:["New here? ",Object(s.jsx)(l.b,{to:"/register",children:"Signup"})]}),Object(s.jsxs)("p",{className:"subtitle",style:{lineHeight:"0.1px"},children:["Forgot password? ",Object(s.jsx)(l.b,{to:"/reset-password",children:"Reset"})]})]})})),A=function(){return Object(s.jsx)("div",{children:"SignUp"})},k=function(){return Object(s.jsx)("div",{children:"Activate"})},E=function(){return Object(s.jsx)("div",{children:"Reset PAssword"})},C=function(){return Object(s.jsx)("div",{children:"Reset PAssword Confirm"})},L=c(10),D=c(36),R=c(37),_={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null},F=Object(L.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case N:return localStorage.setItem("access",s.access),Object(h.a)(Object(h.a)({},e),{},{isAuthenticated:!0,access:s.access,refresh:s.refresh});case w:return Object(h.a)(Object(h.a)({},e),{},{user:s});case S:return Object(h.a)(Object(h.a)({},e),{},{user:null});case y:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(h.a)(Object(h.a)({},e),{},{isAuthenticated:!1,access:null,refresh:null,user:null});default:return e}}}),J=[R.a],P=Object(L.createStore)(F,{},Object(D.composeWithDevTools)(L.applyMiddleware.apply(void 0,J))),T=function(){return Object(s.jsx)(O.a,{store:P,children:Object(s.jsx)(l.a,{children:Object(s.jsx)(u,{children:Object(s.jsxs)(o.c,{children:[Object(s.jsx)(o.a,{exact:!0,path:"/",component:d}),Object(s.jsx)(o.a,{exact:!0,path:"/login",component:I}),Object(s.jsx)(o.a,{exact:!0,path:"/register",component:A}),Object(s.jsx)(o.a,{exact:!0,path:"/activate/:uid/:token",component:k}),Object(s.jsx)(o.a,{exact:!0,path:"/reset-password",component:E}),Object(s.jsx)(o.a,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:C})]})})})})};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(T,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.2e75e3e3.chunk.js.map